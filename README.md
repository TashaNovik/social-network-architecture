## Проектирование микросервисной архитектуры для социальной сети ##

Этот репозиторий содержит проектное решение для задания по проектированию микросервисной архитектуры социальной сети.
Вся документация структурирована для удобного просмотра и оценки.

## Оглавление

1. [Структура проекта](#структура-проекта)
2. [Архитектура системы](#1-архитектура-системы)
3. [Структура Базы Данных](#2-структура-базы-данных)
4. [Документация API (Postman)](#3-документация-api-postman)

## Структура проекта

Репозиторий имеет следующую структуру, чтобы разделить артефакты проектирования по категориям:

├── README.md <-- Этот файл - гид по проекту.
├── architecture/
│ ├── architecture-diagram.png <-- Визуальная схема архитектуры.
│ └── architecture-description.md <-- Текстовое описание архитектуры и сервисов.
│ └── sequence-user-registration.png <-- Схема последовательности регистрации пользователя.
│ └── sequence-post-creation.png <-- Схема последовательности создания поста.
│ └── sequence-newsfeed-generation.png <-- Схема последовательности генерации новостной ленты и ее чтение.
├── database/
│ └── db-description.md <-- Описание таблиц, полей и связей.
└── api/
└── SocialNetwork.postman_collection.json <-- Коллекция Postman для импорта.

## 1. Архитектура системы

В папке `architecture/` находятся файлы, описывающие общую архитектуру приложения.

* ➡️ **[architecture/architecture-diagram.png](architecture/architecture-diagram.png)**
    * **Что это:** Визуальная диаграмма, показывающая основные компоненты системы (клиент, API Gateway, микросервисы,
      базы данных) и потоки данных между ними.
    * **Назначение:** Дает быстрое, высокоуровневое понимание того, как устроена система.

* ➡️ **[architecture/architecture-description.md](architecture/architecture-description.md)**
    * **Что это:** Детальное текстовое описание архитектурного решения.
    * **Назначение:** Объясняет, почему были выбраны те или иные подходы. Описывает зону ответственности каждого
      микросервиса:
        * **User Service:** Регистрация, авторизация, управление профилем.
        * **Post Service:** Создание постов и комментариев.
        * **Message Service:** Личная переписка.
        * **API Gateway:** Единая точка входа, маршрутизация запросов.
        * **Асинхронное взаимодействие:** Описание того, как сервисы общаются для сложных сценариев (например, удаление
          пользователя).
        * **Notification Service:** Отправка уведомлений пользователям.
        * **Media Service:** Управление медиафайлами (загрузка, хранение, обработка).
        * **Search Service:** Поиск по контенту и пользователям.
        * **Admin Service:** Управление административными задачами.
        * **Newsfeed Service:** Генерация новостных лент пользователей.
        * **Friendship Service:** Управление социальными связями (дружба).
        * **Auth Service:** Аутентификация и авторизация пользователей.
        * **Redis Cluster:** Кэширование данных и Pub/Sub механизмы.
        * **Apache Kafka:** Шина событий для асинхронного взаимодействия между сервисами.
        * **Content & Feeds:** Управление контентом и лентами новостей.
        * **User & Social Graph:** Управление пользователями и социальным графом.
        * **Messaging Service:** Личная переписка между пользователями.

* ➡️ **[architecture/sequence-user-registration.png](architecture/sequence-user-registration.png)**
    * **Что это:** Схема последовательности регистрации пользователя.
    * **Назначение:** Показывает шаги, которые выполняются при регистрации нового пользователя, включая взаимодействие с
      микросервисами.
  
* ➡️ **[architecture/sequence-post-creation.png](architecture/sequence-post-creation.png)**
    * **Что это:** Схема последовательности создания поста.
    * **Назначение:** Показывает шаги, которые выполняются при создании нового поста, включая взаимодействие с
      микросервисами.

* ➡️ **[architecture/sequence-newsfeed-generation.png](architecture/sequence-newsfeed-generation.png)**
    * **Что это:** Схема последовательности генерации новостной ленты и ее чтение.
    * **Назначение:** Показывает шаги, которые выполняются при генерации новостной ленты для пользователя, включая
      взаимодействие с микросервисами.

---

## 2. Структура Базы Данных

В папке `database/` содержится вся информация о проектировании баз данных для каждого микросервиса. Используется
подход "База данных на сервис".

* ➡️ **[database/db-description.md](database/db-description.md)**
    * **Что это:** Документ с описанием таблиц, ключевых полей, индексов и связей между таблицами (включая логические
      связи между разными БД).
    * **Назначение:** Помогает понять логику хранения данных и принятые проектные решения.

---

## 3. Документация API (Postman)

В папке `api/` находится файл с коллекцией Postman, который описывает API каждого микросервиса.

* ➡️ **[api/SocialNetwork.postman_collection.json](api/SocialNetwork.postman_collection.json)**
    * **Что это:** Экспортированная коллекция Postman, содержащая все эндпоинты (ручки) API, сгруппированные по
      микросервисам.
    * **Назначение:** Позволяет интерактивно изучить API, посмотреть примеры запросов, ожидаемые тела запросов (body) и
      заголовки (headers).

### Как использовать этот файл?

1. Установите приложение [Postman](https://www.postman.com/downloads/).
2. Откройте Postman и нажмите на кнопку **Import** в левом верхнем углу.
3. Выберите файл `api/SocialNetwork.postman_collection.json` из этого репозитория.
4. После импорта в левой панели появится коллекция "Социальная сеть" с папками, соответствующими каждому микросервису (
   `User Service`, `Post Service` и т.д.).
5. Вы можете изучить каждый запрос, его HTTP-метод, URL, пример тела запроса и заголовки.